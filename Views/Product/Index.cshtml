@model IEnumerable<ProductViewModel>

<h2 class="mt-4 mb-4 text-center">Product List</h2>

<div class="d-flex justify-content-between mb-3">
 <h5>Total Products: @(ViewBag.TotalCount)</h5>
 <a href="/Product/Create" class="btn btn-primary">Add New Product</a>
</div>
<form method="get" action="/Product/Index" class="mb-3">
 <div class="form-group">
  <label for="pageoSize">Page Size:</label>
  <select id="pageoSize" name="pageSize" class="form-select" onchange="this.form.submit()">
   <option value="">Select Page Size</option>
   @if (ViewBag.pageSize == 5)
   {
    <option value="5" selected >5</option>
   }
   else{
       <option value="5" >5</option>
 
 }
   @if (ViewBag.pageSize == 10)
   {
    <option value="10" selected>10</option>
   }
   else
   {
    <option value="10">10</option>

   }

   @if (ViewBag.pageSize == 20)
   {
    <option value="20" selected>20</option>
   }
   else
   {
    <option value="20">20</option>

   }

  </select>
  <input type="hidden" name="page" value="@ViewBag.CurrentPage" />
 </div>
</form>
<table class="table table-bordered table-hover">
 <thead class="thead-dark">
  <tr>
   <th scope="col">Product ID</th>
   <th scope="col">Product Name</th>
   <th scope="col">Category ID</th>
   <th scope="col">Category Name</th>
   <th scope="col">Actions</th>

  </tr>
 </thead>
 <tbody>
  @foreach (var item in Model)
  {
   <tr>
    <td>@item.ProductId</td>
    <td>@item.ProductName</td>
    <td>@item.CategoryId</td>
    <td>@item.CategoryName</td>
    <td>
     <a class="btn btn-outline-danger" asp-action="Delete" asp-controller="Product" asp-route-id="@item.ProductId">Delete</a>
     <a class="btn btn-outline-info" asp-action="Edit" asp-controller="Product" asp-route-id="@item.ProductId">Edit</a>

    </td>
   </tr>
  }
 </tbody>
</table>
<nav aria-label="Page navigation example" class="mt-4">
 <ul class="pagination justify-content-center">
  @if (ViewBag.CurrentPage > 1)
  {
   <li class="page-item">
    <a class="page-link" href="/Product/Index?page=@(ViewBag.CurrentPage - 1)&pageSize=@ViewBag.PageSize">Previous</a>
   </li>
  }
  else
  {
   <li class="page-item disabled">
    <a class="page-link" href="#">Previous</a>
   </li>
  }

  @for (int i = 1; i <= ViewBag.TotalPages; i++)
  {
   if (i == ViewBag.CurrentPage)
   {
    <li class="page-item active">
     <a class="page-link" href="#">@i</a>
    </li>
   }
   else
   {
    <li class="page-item">
     <a class="page-link" href="/Product/Index?page=@i&pageSize=@ViewBag.PageSize">@i</a>
    </li>
   }
  }

  @if (ViewBag.CurrentPage < ViewBag.TotalPages)
  {
   <li class="page-item">
    <a class="page-link" href="/Product/Index?page=@(ViewBag.CurrentPage + 1)&pageSize=@ViewBag.PageSize">Next</a>
   </li>
  }
  else
  {
   <li class="page-item disabled">
    <a class="page-link" href="#">Next</a>
   </li>
  }
 </ul>
</nav>




