 @model IEnumerable<Category>
 <h2 class="mb-2 text-center">Category List</h2>
<h5>Total Categories: @(ViewBag.TotalCount)</h5>

 <a  class="btn btn-outline-primary my-3" href="/Category/Create">Create New Category</a><br />
<form method="get" action="/Category/Index" class="mb-3">
 <div class="form-group">
  <label for="pageoSize">Page Size:</label>
  <select id="pageoSize" name="pageSize" class="form-select" onchange="this.form.submit()">
   <option value="">Select Page Size</option>
   @if (ViewBag.pageSize == 2)
   {
    <option value="2" selected>2</option>
   }
   else
   {
    <option value="2">2</option>

   }
   @if (ViewBag.pageSize == 5)
   {
    <option value="5" selected>5</option>
   }
   else
   {
    <option value="5">5</option>

   }

   @if (ViewBag.pageSize == 4)
   {
    <option value="4" selected>4</option>
   }
   else
   {
    <option value="4">4</option>

   }

  </select>
  <input type="hidden" name="page" value="@ViewBag.CurrentPage" />
 </div>
</form>

<table class="table table-striped">
 <tr>
  <th>ID</th>
  <th>Name</th>
  <th>Actions</th>
 </tr>
 @foreach (var item in Model)
 {
  <tr>
   <td>@item.CategoryId</td>
   <td>@item.CategoryName</td>
   <td>
   <a class="btn btn btn-outline-info" href="/Category/Edit/@item.CategoryId">Edit</a>
    <a class="btn btn-outline-danger" href="/Category/Delete/@item.CategoryId">Delete</a>
   </td>

  </tr>
 }
</table>


<nav aria-label="Page navigation example" class="mt-4">
 <ul class="pagination justify-content-center">
  @if (ViewBag.CurrentPage > 1)
  {
   <li class="page-item">
    <a class="page-link" href="/Category/Index?page=@(ViewBag.CurrentPage - 1)&pageSize=@ViewBag.PageSize">Previous</a>
   </li>
  }
  else
  {
   <li class="page-item disabled">
    <a class="page-link" href="#">Previous</a>
   </li>
  }

  @for (int i = 1; i <= ViewBag.TotalPages; i++)
  {
   if (i == ViewBag.CurrentPage)
   {
    <li class="page-item active">
     <a class="page-link" href="#">@i</a>
    </li>
   }
   else
   {
    <li class="page-item">
     <a class="page-link" href="/Category/Index?page=@i&pageSize=@ViewBag.PageSize">@i</a>
    </li>
   }
  }

  @if (ViewBag.CurrentPage < ViewBag.TotalPages)
  {
   <li class="page-item">
    <a class="page-link" href="/Category/Index?page=@(ViewBag.CurrentPage + 1)&pageSize=@ViewBag.PageSize">Next</a>
   </li>
  }
  else
  {
   <li class="page-item disabled">
    <a class="page-link" href="#">Next</a>
   </li>
  }
 </ul>
</nav>